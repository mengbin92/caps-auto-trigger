# CapsAutoTrigger - 可配置的智能按键模拟器

**CapsAutoTrigger** 是一个支持定时运行、配置热更新的轻量级自动化工具，用于在特定时间段内**模拟双击 Caps Lock 键**，适用于挂机保活、防锁屏、系统活跃状态保持等多种场景。

## 1. 核心特性

* **定时任务调度**：支持配置多个每日时间段运行任务
* **配置热更新**：修改配置文件后自动加载，无需重启
* **Caps Lock 模拟**：每隔 N 秒自动模拟双击按键
* **日志可配置**：日志文件名、等级由配置文件控制
* **结构化日志输出**：使用 `zap` 日志库记录运行信息
* **轻量运行**：Go 编写，跨平台，无需外部依赖

## 2. 快速开始

### 2.1 克隆项目

```bash
git clone https://github.com/mengbin92/caps-auto-trigger.git
cd caps-auto-trigger
```

### 2.2 安装依赖

```bash
go mod tidy
```

### 2.3 创建配置文件 `config.yaml`

```yaml
time_ranges:
  - start: 09:30
    end: 12:00
  - start: 13:30
    end: 19:00

log:
  level: info
  name: caps-auto-trigger.log

ticker: 60

daemon: true
```

### 2.4 运行程序

```bash
go run main.go
```

## 3. 配置项说明

### 3.1 日志配置

| 字段        | 类型   | 默认值             | 描述                          |
| :---------- | :----- | :----------------- | :---------------------------- |
| `log.level` | string | `info`             | 日志等级：`debug` / `info` 等 |
| `log.name`  | string | `keysimulator.log` | 日志文件名                    |

### 3.2 Ticker 配置

| 字段     | 类型 | 默认值 | 描述                  |
| :------- | :--- | :----- | :-------------------- |
| `ticker` | int  | 60     | 每隔 N 秒触发一次操作 |

### 3.3 时间段配置

| 字段    | 类型   | 示例值 | 描述                 |
| :------ | :----- | :----- | :------------------- |
| `start` | string | 09:30  | 每个时间段的开始时间 |
| `end`   | string | 12:00  | 每个时间段的结束时间 |

支持配置多个时间段，例如：

```yaml
time_ranges:
  - start: 08:00
    end: 09:00
  - start: 14:00
    end: 18:00
```

> 配置更新后程序将自动重新加载，无需手动重启。

### 3.4 守护进程配置

| 字段     | 类型 | 默认值 | 描述                   |
| :------- | :--- | :----- | :--------------------- |
| `daemon` | boo  | true   | 是否以守护进程模式运行 |

## 4. 日志输出

日志将以结构化 JSON 形式写入你指定的文件，例如：

```json
{"level":"info","ts":"2025-06-23T09:30:00Z","msg":"执行Caps Lock双击"}
```

---

## 5. 典型使用场景

* **远程办公防锁屏**
* **挂机防掉线或防 AFK**
* **自动化测试按键模拟**
* **后台游戏防挂机检测**
* **保持系统活跃状态**
